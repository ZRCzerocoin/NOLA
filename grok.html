<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Groq Chat Bot</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body { background:#0e1320; color:#e7eeff; font-family:Arial; display:flex; justify-content:center; align-items:center; height:100vh; margin:0; }
.chat-container { background:#121a2b; padding:20px; border-radius:12px; width:90%; max-width:600px; box-shadow:0 0 20px rgba(0,0,0,0.4); display:flex; flex-direction:column; }
.messages { flex:1; overflow-y:auto; border:1px solid #1f2b40; border-radius:8px; padding:10px; margin-bottom:10px; background:#0b1120; }
.message { margin-bottom:10px; padding:8px 12px; border-radius:12px; max-width:80%; word-wrap:break-word; }
.user { background:#3b82f6; align-self:flex-end; color:white; }
.bot { background:#1f2937; align-self:flex-start; color:#cfe0ff; }
input { border-radius:8px; border:1px solid #1f2b40; padding:10px; background:#0b1120; color:#cfe0ff; flex:1; }
button { margin-left:8px; padding:10px 16px; border-radius:8px; border:none; background:#3b82f6; color:white; cursor:pointer; }
.input-container { display:flex; }
</style>
</head>
<body>

<div class="chat-container">
    <div class="messages" id="messages"></div>
    <div class="input-container">
        <input type="text" id="userInput" placeholder="Type your message...">
        <button id="sendBtn">Send</button>
    </div>
</div>

<script>
const API_URL = "https://api.groq.com/openai/v1/chat/completions";
const API_KEY = "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";
const MODEL = "llama-3.1-8b-instant";

const messagesEl = document.getElementById("messages");
const inputEl = document.getElementById("userInput");
const sendBtn = document.getElementById("sendBtn");

function addMessage(text, from) {
    const div = document.createElement("div");
    div.className = "message " + from;
    div.innerText = text;
    messagesEl.appendChild(div);
    messagesEl.scrollTop = messagesEl.scrollHeight;
}

async function sendMessage(text) {
    if (!text.trim()) return;
    addMessage(text, "user");
    inputEl.value = "";
    try {
        const body = { model: MODEL, messages: [{ role: "user", content: text }] };
        const res = await fetch(API_URL, {
            method:"POST",
            headers: {
                "Authorization":"Bearer "+API_KEY,
                "Content-Type":"application/json"
            },
            body: JSON.stringify(body)
        });
        if (!res.ok) {
            const txt = await res.text();
            addMessage("Error: " + txt, "bot");
            return;
        }
        const data = await res.json();
        const ans = data.choices?.[0]?.message?.content || "No response";
        addMessage(ans, "bot");
    } catch(e) {
        addMessage("Error: "+e.message, "bot");
    }
}

sendBtn.onclick = () => sendMessage(inputEl.value);
inputEl.addEventListener("keydown", e => { if(e.key === "Enter") sendMessage(inputEl.value); });

</script>
</body>
</html>

