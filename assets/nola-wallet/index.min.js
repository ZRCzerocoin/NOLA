(function(window, document){
  // Wrapper: if a WalletConnect UMD is already present, do nothing.
  if (window.WalletConnect || window.WalletConnectEthereumProvider || window.WalletConnectProvider || window.EthereumProvider) {
    console.log('WalletConnect UMD appears present');
    return;
  }
  try {
    var s = document.createElement('script');
    s.src = 'https://cdn.jsdelivr.net/npm/@walletconnect/ethereum-provider@2.6.0/dist/umd/index.min.js';
    s.async = true;
    s.onload = function(){ console.log('Loaded WalletConnect UMD from CDN'); };
    s.onerror = function(){ console.error('Failed to load WalletConnect UMD from CDN'); };
    document.head.appendChild(s);
  } catch (e) {
    console.error('WalletConnect wrapper error', e);
  }
})(window, document);
